{"version":3,"sources":["webpack:///./src/components/Header.jsx","webpack:///./src/components/Stack.jsx","webpack:///./src/pages/blog/components-mdx-secret-weapon/index.mdx","webpack:///./src/templates/BlogPost.jsx","webpack:///./src/utils/hooks.js"],"names":["Header","children","props","as","HeaderName","variant","mb","HeaderTitle","aria-hidden","Stack","gap","dividers","dividerColor","items","React","Children","toArray","map","child","index","key","sx","marginTop","borderTop","borderColor","paddingTop","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent","BlogPostTemplate","pageContext","site","siteMetadata","title","siteUrl","node","allMdx","edges","find","edge","frontmatter","post","fields","Layout","name","content","description","property","slug","maxWidth","fontSize","dateTime","datetime","date","mt"],"mappings":"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","file":"component---src-pages-blog-components-mdx-secret-weapon-index-mdx-d3995ab11f42ab737196.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Box, Text, Container, Heading } from 'theme-ui'\n\nconst Header = ({ children, ...props }) => (\n  <Box as=\"header\" {...props}>\n    <Container>{children}</Container>\n  </Box>\n)\n\nHeader.propTypes = {\n  children: PropTypes.node,\n}\n\nconst HeaderName = (props) => (\n  <Heading as=\"h1\" variant=\"section-heading\" mb={1} {...props} />\n)\n\nconst HeaderTitle = (props) => (\n  <Text variant=\"header-title\" aria-hidden {...props} />\n)\n\nexport { Header, HeaderName, HeaderTitle }\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Box } from 'theme-ui'\n\nconst Stack = ({\n  gap = 0,\n  dividers,\n  dividerColor = 'border',\n  children,\n  ...props\n}) => {\n  const items = React.Children.toArray(children)\n\n  return (\n    <Box {...props}>\n      {items.map((child, index) => (\n        <Box\n          key={index}\n          sx={{\n            '& + &': {\n              marginTop: gap,\n              borderTop: dividers ? 1 : 0,\n              borderColor: dividerColor,\n              paddingTop: dividers ? gap : 0,\n            },\n          }}\n        >\n          {child}\n        </Box>\n      ))}\n    </Box>\n  )\n}\n\nStack.propTypes = {\n  gap: PropTypes.number,\n  dividers: PropTypes.bool,\n  dividerColor: PropTypes.string,\n  children: PropTypes.node,\n}\n\nexport default Stack\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/rubenlangius/Documents/zzp/rubenlangius.nl/src/templates/BlogPost.jsx\";\nimport { Box, Heading } from 'theme-ui';\nimport ExampleCounter from './ExampleCounter';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <p>{`This blog post is written in `}<a parentName=\"p\" {...{\n        \"href\": \"https://daringfireball.net/projects/markdown/syntax\"\n      }}>{`Markdown`}</a>{`. Well, kind of. Sort of. It’s written in a `}<em parentName=\"p\">{`version`}</em>{` of Markdown, one that understands JSX and allows you to render React components inline. It’s called `}<a parentName=\"p\" {...{\n        \"href\": \"https://mdxjs.com/\"\n      }}>{`MDX`}</a>{`, and it’s `}<strong parentName=\"p\">{`awesome`}</strong>{`.`}</p>\n    <p>{`MDX is really useful for writing longform content with dynamic elements. For example, we can import a React component and render it right here:`}</p>\n    <ExampleCounter mdxType=\"ExampleCounter\" />\n    <p>{`There are tons of applications for this. The most common use is probably documentation sites, where you can import live code playgrounds (among other benefits). But it’s also really useful for blogs. It allows us to add complicated layouts or sections to individual blog posts without creating new templates. Or use an `}<inlineCode parentName=\"p\">{`<Update />`}</inlineCode>{` component to let users know that information in a post is outdated or has been changed to reflect new information, `}<a parentName=\"p\" {...{\n        \"href\": \"/blog/functional-first-accordions/\"\n      }}>{`like I have here`}</a>{`.`}</p>\n    <p>{`But that’s not what this post is about. Instead I want to talk about my favorite part of MDX: component replacement.`}</p>\n    <h2>{`Custom components`}</h2>\n    <p>{`In the long-ago-before-time, when I used Markdown I also needed to write a (typically very long) stylesheet to make sure the content was presented in a way I was happy with. Managing things like vertical rhythm tended to rely on `}<a parentName=\"p\" {...{\n        \"href\": \"https://alistapart.com/article/axiomatic-css-and-lobotomized-owls/\"\n      }}>{`lobotomized owls`}</a>{` and other compound selectors. On its own this isn’t a huge issue; if your site is already built with monolithic CSS, this is just another day in the life.`}</p>\n    <p>{`But what happens when you you’re using, say, `}<a parentName=\"p\" {...{\n        \"href\": \"https://gatsbyjs.org\"\n      }}>{`a React-based static site generator`}</a>{`? And you’ve adopted a CSS-in-JS solution? Do you insert a global stylesheet on every page, whether or not the page uses Markdown content? `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/lowmess/lowmess/blob/c1ddc91a7fcd4d47c1f1a921c0dc3eec3ba131f8/src/templates/BlogPost/MarkdownContent.js\"\n      }}>{`Do you create a massive wrapper component that’s just a cleverly disguised stylesheet`}</a>{`? This is where MDX’s role as a Markdown parser comes into play.`}</p>\n    <p>{`MDX parses Markdown and understands JSX, but more than that it combines them. In fact, `}<a parentName=\"p\" {...{\n        \"href\": \"https://mdxjs.com/table-of-components\"\n      }}>{`MDX allows us to replace the default element for any Markdown block`}</a>{` with a custom React component. This means it is now trivial to change the markup of an element. Not only does this allow us to style our content the way we do the rest of our site, it also opens up (or severely lowers the barrier-of-entry to) opportunities that weren’t previously available.`}</p>\n    <p>{`Let’s say you wanted your headings to automatically create anchor links. There are plenty of plugins written for various Markdown parsers to accomplish this (and MDX even supports most `}<a parentName=\"p\" {...{\n        \"href\": \"https://remark.js.org/\"\n      }}>{`remark`}</a>{` plugins). But if you wanted to change the styles that plugin used, or the slug-generation logic, or the icon it used to indicate the anchor, solutions ranged from complicated to impossible. With MDX, it’s as simple as passing custom heading components to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://mdxjs.com/getting-started#using-the-wrapper\"\n      }}><inlineCode parentName=\"a\">{`<MDXProvider />`}</inlineCode>{` component`}</a>{` with the desired functionality.`}</p>\n    <p>{`This not only creates near-limitless styling options, but functionalty options as well. My personal favorite use case I’ve found is preventing `}<inlineCode parentName=\"p\">{`<h1>`}</inlineCode>{`s from being used in blog content. Because I currently only use MDX for blog posts, I know that there’s no good reason for me to create an `}<inlineCode parentName=\"p\">{`<h1>`}</inlineCode>{`, because the title of the blog post I’m writing already is one. So I replaced Markdown’s `}<inlineCode parentName=\"p\">{`<h1>`}</inlineCode>{` with my own:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`const h1 = () => {\n  if (process.NODE_ENV === 'production') return ''\n\n  return (\n    <div style={{ fontSize: 72, color: 'red' }}>Don&rsquo;t use h1s</div>\n  )\n}\n`}</code></pre>\n    <p>{`I can opt-out of this at any time by using a custom component, but that extra bit of friction means I have to conciously try to muck up the document outline.`}</p>\n    <p>{`Bottom line: if I’m kicking off a content-focused, React-based site right now, it’s going to use MDX. And you better believe I’m going to provide custom components.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport Helmet from 'react-helmet'\nimport { Box, Container } from 'theme-ui'\nimport { useSiteMetadata } from '../utils/hooks'\nimport Stack from '../components/Stack'\nimport Layout from '../components/Layout'\nimport { HeaderName, HeaderTitle } from '../components/Header'\n\nconst BlogPostTemplate = ({ pageContext, children }) => {\n  const { title, siteUrl } = useSiteMetadata()\n\n  // So this bit is a tad gross. I have to get all MDX nodes, then filter them\n  // down to get the actual node the template is rendering. The reason for this\n  // is thricefold:\n  //\n  // 1. If I don't do this, I have to format dates on the frontend and deal\n  //    with all that wonky timezone bullshit, and\n  // 2. This template can't run Gatsby queries for whatever reason, but mostly\n  //    it's because\n  // 3. I can't pass variables to `useStaticQuery`\n  const {\n    allMdx: { edges },\n  } = useStaticQuery(graphql`\n    query {\n      allMdx {\n        edges {\n          node {\n            frontmatter {\n              title\n              date(formatString: \"MMMM D, YYYY\")\n              datetime: date(formatString: \"YYYY-MM-DD\")\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const { node } = edges.find(\n    (edge) => edge.node.frontmatter.title === pageContext.frontmatter.title\n  )\n\n  const post = {\n    frontmatter: {\n      ...pageContext.frontmatter,\n      ...node.frontmatter,\n    },\n    fields: node.fields,\n  }\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>{post.frontmatter.title}</title>\n\n        <meta name=\"description\" content={post.frontmatter.description} />\n\n        <meta name=\"twitter:site\" content=\"@lowmess\" />\n        <meta name=\"twitter:card\" content=\"summary\" />\n        <meta property=\"og:site_name\" content={title} />\n        <meta\n          property=\"og:title\"\n          name=\"twitter:title\"\n          content={post.frontmatter.title}\n        />\n        <meta property=\"og:url\" content={`${siteUrl}${post.fields.slug}`} />\n        <meta\n          property=\"og:description\"\n          name=\"twitter:description\"\n          content={post.frontmatter.description}\n        />\n      </Helmet>\n\n      <Box as=\"header\">\n        <Container sx={{ maxWidth: 'mdx-measure', fontSize: [null, null, 3] }}>\n          <HeaderName as=\"time\" dateTime={post.frontmatter.datetime}>\n            {post.frontmatter.date}\n          </HeaderName>\n\n          <HeaderTitle aria-hidden=\"false\">\n            {post.frontmatter.title}\n          </HeaderTitle>\n        </Container>\n      </Box>\n\n      <Stack gap={4} mt={[4, 5]}>\n        {children}\n      </Stack>\n    </Layout>\n  )\n}\n\nBlogPostTemplate.propTypes = {\n  pageContext: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n}\n\nexport default BlogPostTemplate\n","import { useStaticQuery, graphql } from 'gatsby'\n\nconst useSiteMetadata = () => {\n  const { site } = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n          description\n          siteUrl\n        }\n      }\n    }\n  `)\n\n  return site.siteMetadata\n}\n\nexport { useSiteMetadata }\n"],"sourceRoot":""}